import{r as o,j as l,O as v,z as g}from"./icons-CbuKbt0t.js";const x=({images:e=[],autoAdvanceMs:c=5e3,className:i="",overlay:u=null,ariaLabel:f="Image carousel"})=>{const[s,a]=o.useState(0),n=o.useRef(!1);o.useEffect(()=>{if(e.length<=1||window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const r=setInterval(()=>{n.current||a(p=>(p+1)%e.length)},c);return()=>clearInterval(r)},[e.length,c]);const d=o.useCallback(()=>{a(t=>(t-1+e.length)%e.length)},[e.length]),h=o.useCallback(()=>{a(t=>(t+1)%e.length)},[e.length]),b=o.useMemo(()=>e.map((t,r)=>()=>a(r)),[e]);return e.length?l.jsxs("div",{className:`relative overflow-hidden ${i}`,onMouseEnter:()=>{n.current=!0},onMouseLeave:()=>{n.current=!1},onFocus:()=>{n.current=!0},onBlur:t=>{t.currentTarget.contains(t.relatedTarget)||(n.current=!1)},role:"region","aria-roledescription":"carousel","aria-label":f,children:[e.map((t,r)=>l.jsx("div",{className:`absolute inset-0 transition-opacity duration-700 ${r===s?"opacity-100":"opacity-0 pointer-events-none"}`,role:"group","aria-roledescription":"slide","aria-label":`${r+1} of ${e.length}`,"aria-hidden":r!==s,children:l.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-full object-cover",loading:r===0?"eager":"lazy"})},r)),u,e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button","aria-label":"Previous image",className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-full shadow transition-opacity focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",style:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)"},onClick:d,children:l.jsx(v,{size:24,style:{color:"var(--color-accent)"}})}),l.jsx("button",{type:"button","aria-label":"Next image",className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-full shadow transition-opacity focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",style:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)"},onClick:h,children:l.jsx(g,{size:24,style:{color:"var(--color-accent)"}})})]}),e.length>1&&l.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1 z-20",children:e.map((t,r)=>l.jsx("button",{type:"button",onClick:b[r],className:"min-w-[44px] min-h-[44px] flex items-center justify-center focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 rounded-full","aria-label":`View image ${r+1}`,children:l.jsx("span",{className:`block rounded-full transition-all ${r===s?"w-6 h-2":"w-2 h-2"}`,style:{backgroundColor:r===s?"var(--color-accent)":"var(--color-surface)"},"aria-hidden":"true"})},r))})]}):null};export{x as I};
