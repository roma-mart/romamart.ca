import{r as c,j as e,z as y,N as j,M as p,E as w,y as N}from"./icons-BHILTIhX.js";import{h as k,i as C,j as L,k as M,H as S,S as I,b as $,a as E,l as g,L as O,B as z}from"./index-CxD4j8ts.js";import{n as R}from"./phone-DvfqJ5kM.js";import"./react-vendor-labSKdyf.js";import"./motion-BLHaDVUl.js";const _=(t={})=>{const i=c.useRef(null),[s,l]=c.useState(!1),[a,d]=c.useState(!1);return c.useEffect(()=>{const o=i.current;if(!o)return;const n=new IntersectionObserver(([m])=>{l(m.isIntersecting),m.isIntersecting&&!a&&d(!0)},{threshold:t.threshold||.1,rootMargin:t.rootMargin||"50px",...t});return n.observe(o),()=>{n.disconnect()}},[a,t]),{elementRef:i,isIntersecting:s,hasIntersected:a}},A=(t,i="")=>{const{elementRef:s,hasIntersected:l}=_({threshold:.01,rootMargin:"100px"}),[a,d]=c.useState(i),[o,n]=c.useState(!1),[m,u]=c.useState(!1);return c.useEffect(()=>{if(l&&t&&a!==t){const h=new Image;h.onload=()=>{d(t),n(!0)},h.onerror=()=>{u(!0)},h.src=t}},[l,t,a]),{elementRef:s,imageSrc:a,isLoaded:o,error:m}},U=({src:t,alt:i,className:s="",style:l={},placeholder:a='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"%3E%3Crect fill="%23e5e7eb" width="400" height="300"/%3E%3C/svg%3E',...d})=>{const{elementRef:o,imageSrc:n,isLoaded:m,error:u}=A(t,a);return u?e.jsx("div",{ref:o,className:`flex items-center justify-center ${s}`,style:{backgroundColor:"var(--color-surface)",...l},...d,children:e.jsx("span",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Failed to load image"})}):e.jsx("img",{ref:o,src:n,alt:i,className:`transition-opacity duration-300 ${m?"opacity-100":"opacity-0"} ${s}`,style:l,loading:"lazy",...d})},B=(t,i)=>{const s=[];return t.primary&&s.push({src:t.primary,alt:`${i} exterior`}),Array.isArray(t.exterior)&&t.exterior.forEach((l,a)=>{l&&s.push({src:l,alt:`${i} exterior ${a+1}`})}),Array.isArray(t.interior)&&t.interior.forEach((l,a)=>{l&&s.push({src:l,alt:`${i} interior ${a+1}`})}),s},P=({photos:t,locationName:i})=>{const s=c.useMemo(()=>B(t,i),[t,i]),[l,a]=c.useState(0),d=c.useCallback(o=>{a(o)},[]);return c.useEffect(()=>{if(s.length<=1)return;const o=setInterval(()=>{a(n=>(n+1)%s.length)},5e3);return()=>clearInterval(o)},[s.length]),s.length?e.jsxs("div",{className:"relative h-full min-h-[18rem] max-h-[28rem] rounded-2xl overflow-hidden shadow-lg mb-4",children:[s.length>1&&l>0&&e.jsx("button",{type:"button","aria-label":"Previous image",className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 bg-[var(--color-surface)] border border-[var(--color-border)] rounded-full shadow p-2 flex items-center justify-center focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",onClick:()=>a(o=>(o-1+s.length)%s.length),children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",style:{transform:"rotate(180deg)",color:"var(--color-accent)"},fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M15 19l-7-7 7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),s.length>1&&l<s.length-1&&e.jsx("button",{type:"button","aria-label":"Next image",className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 bg-[var(--color-surface)] border border-[var(--color-border)] rounded-full shadow p-2 flex items-center justify-center focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",onClick:()=>a(o=>(o+1)%s.length),children:e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",style:{color:"var(--color-accent)"},fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),s.map((o,n)=>e.jsx(U,{src:o.src,alt:o.alt,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-700 ${n===l?"opacity-100":"opacity-0"}`,"aria-hidden":n!==l},n)),s.length>1&&e.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:s.map((o,n)=>e.jsx("button",{type:"button",onClick:d.bind(null,n),className:`w-2 h-2 rounded-full transition-all focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 ${n===l?"w-6 bg-[var(--color-accent)]":"bg-[var(--color-surface)]"}`,"aria-label":`View image ${n+1}`,tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&d(n)}},n))})]}):null},G={},q=()=>{const[t,i]=c.useState(()=>[]),[s,l]=c.useState(null),a={color:"var(--color-text)"},d={color:"var(--color-text-muted)"},o="/",n=c.useCallback(r=>{const x=r?.coords;x?.latitude&&x?.longitude&&l({latitude:x.latitude,longitude:x.longitude})},[]);k(n);const m=C({userCoords:s,locations:L()}),u=m[0]?.id,h=(()=>{const r=new Set(t);return u&&r.add(u),r})(),v=m.map(r=>({...r,id:r.id,name:r.name,address:r.address.formatted,phone:r.contact.phone,hours:r.hours,isOpen:r.status==="open",mapUrl:r.google.embedUrl,features:r.services.map(x=>x.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase())),distanceText:Number.isFinite(r.distance)?M(r.distance):null})),b=r=>{i(x=>x.includes(r)?x:[...x,r])};return e.jsxs("div",{className:"min-h-screen pt-32 pb-16",style:{backgroundColor:"var(--color-bg)"},children:[e.jsxs(S,{children:[e.jsx("title",{children:"Our Locations | Roma Mart Convenience"}),e.jsx("meta",{name:"description",content:"Find Roma Mart convenience store locations in Sarnia, Ontario. Get directions, hours, and contact information."}),e.jsx("link",{rel:"canonical",href:"https://romamart.ca/locations"})]}),e.jsx(I,{type:"BreadcrumbList",data:{breadcrumbs:$("Locations","https://romamart.ca/locations")}}),e.jsx("nav",{"aria-label":"Breadcrumb",className:"max-w-7xl mx-auto px-4 mb-8",children:e.jsxs("ol",{className:"flex items-center gap-2 text-sm font-inter",children:[e.jsx("li",{children:e.jsx("a",{href:`${o}`,className:"hover:text-accent transition-colors",style:d,children:"Home"})}),e.jsx("li",{"aria-hidden":"true",children:e.jsx(y,{size:16,style:d})}),e.jsx("li",{"aria-current":"page",className:"font-semibold",style:a,children:"Locations"})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 mb-16",children:e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl var(--font-heading) uppercase mb-4",style:{color:"var(--color-heading)"},children:["Our ",e.jsx("span",{style:{color:"var(--color-accent)"},children:"Locations"})]}),e.jsx("p",{className:"text-lg font-inter leading-relaxed max-w-3xl",style:a,children:"Visit us at any of our convenient locations. We're here to serve you with quality products and exceptional service."})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:e.jsx(E,{title:"Roma Mart Locations",text:"Find Roma Mart convenience stores near you in Sarnia!",className:"bg-[var(--color-accent)] text-[var(--color-primary)] hover:bg-[color-mix(in srgb, var(--color-accent) 85%, transparent)]"})})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"space-y-12",children:v.map(r=>e.jsxs("div",{id:`location-${r.id}`,className:"grid lg:grid-cols-2 gap-8",style:{border:r.id===u?"3px solid var(--color-accent)":"none",borderRadius:"1rem",padding:r.id===u?"0.5rem":"0"},children:[e.jsxs("div",{className:"p-8 rounded-2xl flex flex-col",style:{backgroundColor:"var(--color-surface)"},children:[e.jsxs("div",{className:"flex gap-4 mb-6 items-center",children:[r.photos?.primary&&e.jsx("img",{src:r.photos.primary,alt:`${r.name} exterior`,className:"rounded-2xl w-40 h-32 object-cover shadow-lg",loading:"lazy","aria-hidden":r.photos.thumbnail?"true":"false"}),r.photos?.thumbnail&&e.jsx("img",{src:r.photos.thumbnail,alt:`${r.name} thumbnail`,className:"rounded-xl w-20 h-20 object-cover border-2 border-[var(--color-accent)] shadow",loading:"lazy"})]}),(r.isPrimary||r.distanceText)&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[r.isPrimary&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-primary)"},children:[e.jsx(j,{size:14}),"HEADQUARTERS"]}),r.distanceText&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold",style:{backgroundColor:"var(--color-bg)",color:"var(--color-text)"},children:[e.jsx(p,{size:14}),r.distanceText]})]}),e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("h2",{className:"text-3xl var(--font-heading)",style:{color:"var(--color-heading)"},children:r.name}),e.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-bold",style:{backgroundColor:r.isOpen?"var(--color-success-bg)":"var(--color-error-bg)",color:r.isOpen?"var(--color-success)":"var(--color-error)"},children:r.isOpen?"Open Now":"Closed"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(p,{size:24,style:{color:"var(--color-icon)"},className:"flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold mb-1",style:a,children:"Address"}),e.jsx("p",{className:"font-inter mb-2",style:d,children:r.address}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(r.address)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 font-inter text-sm font-semibold hover:underline",style:{color:"var(--color-accent)"},children:["Get Directions ",e.jsx(w,{size:14})]}),e.jsx(g,{text:r.address,label:"Address",className:"text-xs",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]})]})]}),e.jsx(O,{placeId:r.google.placeId,fallbackHours:{daily:r.hours.daily,exceptions:r.hours.exceptions},showStatus:!0,showRefreshOnError:!0}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(N,{size:24,style:{color:"var(--color-icon)"},className:"flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold mb-1",style:a,children:"Phone"}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("a",{href:`tel:${R(r.phone)}`,className:"font-inter hover:underline",style:{color:"var(--color-accent)"},children:r.phone}),e.jsx(g,{text:r.phone,label:"Phone number",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold mb-3",style:a,children:"Available Services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.features.map((x,f)=>e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-inter font-semibold",style:{backgroundColor:"rgba(228, 179, 64, 0.15)",color:"var(--color-text)"},children:x},f))})]})]})]}),e.jsxs("div",{className:"flex flex-col rounded-3xl overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"w-full aspect-[4/3] min-h-[18rem] max-h-[28rem] order-1",children:e.jsx(P,{photos:r.photos,locationName:r.name})}),e.jsx("div",{className:"w-full aspect-[4/3] min-h-[18rem] max-h-[28rem] order-2 relative",children:r.id===u?r.mapUrl&&h.has(r.id)?e.jsxs(e.Fragment,{children:[e.jsx("iframe",{title:`Google Maps - ${r.name}`,src:r.mapUrl,width:"100%",height:"100%",style:{border:0,borderRadius:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"}),e.jsx("a",{href:r.google.mapLink,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 px-4 py-2 rounded-full text-xs font-semibold shadow-lg",style:{backgroundColor:"var(--color-primary)",color:"var(--color-text-on-primary)"},"aria-label":`Open ${r.name} in Google Maps`,children:"Open in Google Maps"})]}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4 text-center px-6",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"},children:[e.jsx("p",{className:"font-inter text-sm",style:{color:"var(--color-text-muted)"},children:r.mapUrl?"Load the interactive map to view directions and details.":"Open this location in Google Maps for directions."}),r.mapUrl?e.jsx("button",{type:"button",onClick:()=>b(r.id),className:"px-4 py-2 rounded-full text-sm font-semibold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-primary)"},"aria-label":`Load interactive map for ${r.name}`,children:"Load Map"}):null,e.jsx("a",{href:r.google.mapLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold hover:underline",style:{color:"var(--color-accent)"},"aria-label":`Open ${r.name} in Google Maps`,children:"Open in Google Maps"})]}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4 text-center px-6",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"},children:[e.jsx("p",{className:"font-inter text-sm",style:{color:"var(--color-text-muted)"},children:"Open this location in Google Maps for directions."}),e.jsx("a",{href:r.google.mapLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-full text-sm font-semibold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-primary)"},children:"Open Map"})]})})]})]},r.id))})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 mt-20",children:e.jsxs("div",{className:"p-12 rounded-3xl text-center",style:{backgroundColor:"var(--color-primary)"},children:[e.jsx("h2",{className:"text-3xl md:text-4xl var(--font-heading) uppercase mb-4",style:{color:"var(--color-text-on-primary)"},children:"Visit Us Today"}),e.jsx("p",{className:"font-inter text-lg mb-8 max-w-2xl mx-auto",style:{color:"var(--color-text-on-primary)",opacity:.9},children:"Stop by any of our locations for quality products and friendly service!"}),e.jsx(z,{href:`${o}contact`,variant:"navlink",style:{minWidth:180},analyticsEvent:"locations_contact_us",children:"Contact Us"})]})})]})};export{q as default};
