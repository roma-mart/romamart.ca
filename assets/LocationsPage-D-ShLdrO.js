import{j as e}from"./motion-DNWzdUg-.js";import{a as d,F as O,Q as U,l as g,o as S,z as _}from"./icons-BgDzhNOQ.js";import{g as A,c as R,h as z,i as E,j as P,H as B,S as b,b as G,a as T,C as y,L as F,n as H,B as I}from"./index-DRhiggdy.js";import{I as D}from"./ImageCarousel-EMNnm-1L.js";import"./react-vendor-u6O7OV96.js";const q={},Q=(a,n)=>{const l=[];return a?.primary&&l.push({src:a.primary,alt:`${n} exterior`}),Array.isArray(a?.exterior)&&a.exterior.forEach((o,i)=>{o&&l.push({src:o,alt:`${n} exterior ${i+1}`})}),Array.isArray(a?.interior)&&a.interior.forEach((o,i)=>{o&&l.push({src:o,alt:`${n} interior ${i+1}`})}),l},Y=()=>{const{locations:a,loading:n,error:l,refetch:o}=A(),{services:i}=R(),m=a.filter(r=>r.status==="open"),[j,N]=d.useState(()=>[]),[w,k]=d.useState(null),t={color:"var(--color-text)"},x={color:"var(--color-text-muted)"},p="/",C=d.useCallback(r=>{const s=r?.coords;s?.latitude&&s?.longitude&&k({latitude:s.latitude,longitude:s.longitude})},[]);z(C);const h=E({userCoords:w,locations:m}),c=h[0]?.id,L=(()=>{const r=new Set(j);return c&&r.add(c),r})(),M=h.map(r=>({...r,id:r.id,name:r.name,address:r.address.formatted,phone:r.contact.phone,hours:r.hours,isOpen:r.status==="open",mapUrl:r.google.embedUrl,features:r.services.map(s=>i.find(u=>u.id===s)?.name||s.replace(/[-_]/g," ").replace(/\b\w/g,u=>u.toUpperCase())),distanceText:Number.isFinite(r.distance)?P(r.distance):null})),f=d.useCallback(r=>{N(s=>s.includes(r)?s:[...s,r])},[]),$=d.useCallback(r=>{f(r.currentTarget.dataset.locationId)},[f]);return e.jsxs("div",{className:"min-h-screen pt-32 pb-16",style:{backgroundColor:"var(--color-bg)"},children:[e.jsxs(B,{children:[e.jsx("title",{children:"Our Locations | Roma Mart Convenience"}),e.jsx("meta",{name:"description",content:"Find Roma Mart convenience store locations in Sarnia, Ontario. Get directions, hours, and contact information."}),e.jsx("link",{rel:"canonical",href:"https://romamart.ca/locations/"})]}),e.jsx(b,{type:"BreadcrumbList",data:{breadcrumbs:G("Locations","https://romamart.ca/locations/")}}),m.length>0&&e.jsx(b,{type:"LocationList",data:{locations:m,options:{}}}),e.jsx("nav",{"aria-label":"Breadcrumb",className:"max-w-7xl mx-auto px-4 mb-8",children:e.jsxs("ol",{className:"flex items-center gap-2 text-sm font-inter",children:[e.jsx("li",{children:e.jsx("a",{href:`${p}`,className:"hover:text-accent transition-colors",style:x,children:"Home"})}),e.jsx("li",{"aria-hidden":"true",children:e.jsx(O,{size:16,style:x})}),e.jsx("li",{"aria-current":"page",className:"font-semibold",style:t,children:"Locations"})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 mb-16",children:e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl uppercase mb-4",style:{color:"var(--color-heading)"},children:["Our ",e.jsx("span",{style:{color:"var(--color-accent)"},children:"Locations"})]}),e.jsx("p",{className:"text-lg font-inter leading-relaxed max-w-3xl",style:t,children:"Visit us at any of our convenient locations. We're here to serve you with quality products and exceptional service."})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:e.jsx(T,{title:"Roma Mart Locations",text:"Find Roma Mart convenience stores near you in Sarnia!",className:"bg-[var(--color-accent)] text-[var(--color-primary)] hover:bg-[color-mix(in srgb, var(--color-accent) 85%, transparent)]"})})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4",children:n?e.jsxs("output",{className:"block text-center py-16","aria-live":"polite",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-b-2 mb-4","aria-hidden":"true",style:{borderColor:"var(--color-accent)"}}),e.jsx("p",{className:"font-inter",style:t,children:"Loading locations..."})]}):e.jsxs(e.Fragment,{children:[l&&e.jsxs("div",{className:"flex items-center justify-center gap-3 py-3 px-4 rounded-lg mb-6 text-sm font-inter",style:{backgroundColor:"var(--color-warning-bg)",color:"var(--color-warning)"},role:"alert",children:[e.jsx("span",{children:"Using cached data. Couldn't reach server."}),e.jsx("button",{type:"button",onClick:o,className:"underline font-semibold hover:no-underline focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 rounded",style:{"--tw-ring-color":"var(--color-accent)"},children:"Update"})]}),e.jsx("div",{className:"space-y-12",children:M.map(r=>e.jsxs("div",{id:`location-${r.id}`,className:"grid lg:grid-cols-2 gap-8",style:{border:r.id===c?"3px solid var(--color-accent)":"none",borderRadius:"1rem",padding:r.id===c?"0.5rem":"0"},children:[e.jsxs("div",{className:"p-8 rounded-2xl flex flex-col",style:{backgroundColor:"var(--color-surface)"},children:[e.jsxs("div",{className:"flex gap-4 mb-6 items-center",children:[r.photos?.primary&&e.jsx("img",{src:r.photos.primary,alt:`${r.name} exterior`,className:"rounded-2xl w-40 h-32 object-cover shadow-lg",loading:"lazy","aria-hidden":r.photos.thumbnail?"true":"false"}),r.photos?.thumbnail&&e.jsx("img",{src:r.photos.thumbnail,alt:`${r.name} thumbnail`,className:"rounded-xl w-20 h-20 object-cover border-2 border-[var(--color-accent)] shadow",loading:"lazy"})]}),(r.isPrimary||r.distanceText)&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[r.isPrimary&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-primary)"},children:[e.jsx(U,{size:14,"aria-hidden":"true"}),"HEADQUARTERS"]}),r.distanceText&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold",style:{backgroundColor:"var(--color-bg)",color:"var(--color-text)"},children:[e.jsx(g,{size:14,"aria-hidden":"true"}),r.distanceText]})]}),e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("h2",{className:"text-3xl",style:{color:"var(--color-heading)"},children:r.name}),e.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-bold",style:{backgroundColor:r.isOpen?"var(--color-success-bg)":"var(--color-error-bg)",color:r.isOpen?"var(--color-success)":"var(--color-error)"},children:r.isOpen?"Open Now":"Closed"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(g,{size:24,"aria-hidden":"true",style:{color:"var(--color-icon)"},className:"flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold mb-1",style:t,children:"Address"}),e.jsx("p",{className:"font-inter mb-2",style:x,children:r.address}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(r.address)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 font-inter text-sm font-semibold hover:underline",style:{color:"var(--color-accent)"},children:["Get Directions ",e.jsx(S,{size:14})]}),e.jsx(y,{text:r.address,label:"Address",className:"text-xs",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]})]})]}),e.jsx(F,{placeId:r.google.placeId,fallbackHours:{daily:r.hours.daily,exceptions:r.hours.exceptions},showStatus:!0,showRefreshOnError:!0}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(_,{size:24,"aria-hidden":"true",style:{color:"var(--color-icon)"},className:"flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold mb-1",style:t,children:"Phone"}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("a",{href:`tel:${H(r.phone)}`,className:"font-inter hover:underline",style:{color:"var(--color-accent)"},children:r.phone}),e.jsx(y,{text:r.phone,label:"Phone number",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"}})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold mb-3",style:t,children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(r.amenities||[]).map((s,v)=>e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-inter font-semibold",style:{backgroundColor:"var(--color-accent-bg)",color:"var(--color-text)"},children:s.name},v))})]})]})]}),e.jsxs("div",{className:"flex flex-col rounded-3xl overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"w-full aspect-[4/3] min-h-[18rem] max-h-[28rem] order-1",children:e.jsx(D,{images:Q(r.photos,r.name),className:"h-full rounded-none",ariaLabel:`${r.name} photos`})}),e.jsx("div",{className:"w-full aspect-[4/3] min-h-[18rem] max-h-[28rem] order-2 relative",children:r.id===c?r.mapUrl&&L.has(r.id)?e.jsxs(e.Fragment,{children:[e.jsx("iframe",{title:`Google Maps - ${r.name}`,src:r.mapUrl,width:"100%",height:"100%",style:{border:0,borderRadius:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"}),e.jsx("a",{href:r.google.mapLink,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 px-4 py-2 rounded-full text-xs font-semibold shadow-lg focus-visible:ring-2 focus-visible:ring-offset-2",style:{backgroundColor:"var(--color-primary)",color:"var(--color-text-on-primary)"},"aria-label":`Open ${r.name} in Google Maps`,children:"Open in Google Maps"})]}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4 text-center px-6",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"},children:[e.jsx("p",{className:"font-inter text-sm",style:{color:"var(--color-text-muted)"},children:r.mapUrl?"Load the interactive map to view directions and details.":"Open this location in Google Maps for directions."}),r.mapUrl?e.jsx("button",{type:"button","data-location-id":r.id,onClick:$,className:"px-4 py-2 min-h-[44px] rounded-full text-sm font-semibold focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",style:{backgroundColor:"var(--color-accent)",color:"var(--color-primary)"},"aria-label":`Load interactive map for ${r.name}`,children:"Load Map"}):null,e.jsx("a",{href:r.google.mapLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold hover:underline focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:rounded",style:{color:"var(--color-accent)"},"aria-label":`Open ${r.name} in Google Maps`,children:"Open in Google Maps"})]}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4 text-center px-6",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text)"},children:[e.jsx("p",{className:"font-inter text-sm",style:{color:"var(--color-text-muted)"},children:"Open this location in Google Maps for directions."}),e.jsx("a",{href:r.google.mapLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-full text-sm font-semibold focus-visible:ring-2 focus-visible:ring-offset-2",style:{backgroundColor:"var(--color-accent)",color:"var(--color-primary)"},children:"Open Map"})]})})]})]},r.id))})]})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 mt-20",children:e.jsxs("div",{className:"p-12 rounded-3xl text-center",style:{backgroundColor:"var(--color-primary)"},children:[e.jsx("h2",{className:"text-3xl md:text-4xl uppercase mb-4",style:{color:"var(--color-text-on-primary)"},children:"Visit Us Today"}),e.jsx("p",{className:"font-inter text-lg mb-8 max-w-2xl mx-auto",style:{color:"var(--color-text-on-primary)",opacity:.9},children:"Stop by any of our locations for quality products and friendly service!"}),e.jsx(I,{href:`${p}contact`,variant:"navlink",style:{minWidth:180},analyticsEvent:"locations_contact_us",children:"Contact Us"})]})})]})};export{Y as default};
